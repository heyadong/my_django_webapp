function CommentPut(){this.articleId=$(".article-content").attr("data-articleid"),this.page=1}CommentPut.prototype.run=function(){this.postconmentevent()},CommentPut.prototype.postconmentevent=function(){var n=this,e=$(".comment-textarea");$("#comment-btn").click(function(){var t=e.val();bufanajax.post({url:"/news/newscomment/",data:{content:t,article:n.articleId},success:function(t){200===t.code?(n.getcommentlist(),swal("成功","评论成功","success")):console.log(t)},fail:function(t){console.log(t)}})})},CommentPut.prototype.getcommentlist=function(){bufanajax.get({url:"/news/comment_list/",data:{page:this.page,article:this.articleId},success:function(t){console.log(t.data);var n=template("comment-li",{comments:t.data}),e=$("#comment-list-ul");e.empty(),e.append(n)},fail:function(t){console.log(t)}})},$(function(){(new CommentPut).run()});