function Bannerimgeidt(){this.bannerbox=template("card-box",{})}Bannerimgeidt.prototype.run=function(){this.banneraddevent()},Bannerimgeidt.prototype.banneraddevent=function(){var t=this;$("#box-add").click(function(){console.log("点击事件");var n=$("#content-box");n.prepend(t.bannerbox),t.bannerboxdelete();var e=n.find(".box-c:first");t.imageClickEvent(e)})},Bannerimgeidt.prototype.bannerboxdelete=function(){$(".del-btn").click(function(){console.log("success"),$(this).parent().parent().remove()})},Bannerimgeidt.prototype.addImageselectEvent=function(n){},Bannerimgeidt.prototype.imageClickEvent=function(e){var t=e.find(".thumbnail");t.click(function(){console.log("click event");var n=e.find(".thumbnailinput");n.click(),n.change(function(){console.log("change event");var n=this.files[0],e=new FormData;e.append("file",n),console.log(n),n&&bufanajax.post({url:"/cms/upload/",dataType:"json",processData:!1,contentType:!1,data:e,success:function(n){console.log(n);var e=n.data.file_url;t.attr({src:e})},fail:function(n){console.log(n)}})})})},$(function(){(new Bannerimgeidt).run()});